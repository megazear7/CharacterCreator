<!DOCTYPE html>
<html>
  <head>
    <script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/sha3.js"></script>
    <script src="jquery-2.0.3.min.js"></script>
    <script src="knockout-2.3.0.js"></script>
    <script src="json-example.js"></script>
  </head>
  <body>

    <!-- login view
      Everything to do with the user is here.  -->
    <div id="loginGroup" style="float: right">
      <div id="login">
        <table>
         <tr>
          <td>
	    <input data-bind="value: emailname" placeholder="eMail Address" title="eMail Address"></input>
          </td>
          <td>
            <input data-bind="value: password" type="password" placeholder="Password" title="Password"></input>
          </td>
          <td>
            <button type="Button" id="loginBtn" onclick="login()">Login</button>
          </td>
          <td>
            <button type="Button" id="openRegBtn" onclick="openReg()">Register</button>
          </td>
          <td>
            <button type="Button" id="forgotBtn" onclick="forgot()">Forgot</button>
          </td>
        </tr>
        <tr>
         <td span='4'>
          <strong data-bind="text: lastStatus"></strong>
         </td>
        </tr>
       </table> 
      </div>
      
      <div id="register" style="display:none;">
        <table>
         <tr>
          <td>
	    <input data-bind="value: emailname" placeholder="eMail Address" title="eMail Address"></input>
          </td>
          <td>
            <input data-bind="value: password" type="password" placeholder="Password" title="Password"></input>
          </td>
          <td>
            <input data-bind="value: screenName" placeholder="Screen Name" title="Screen Name"></input>
          </td>
          <td>
            <button type="Button" id="regBtn" onclick="register()">Register</button>
          </td>
          <td>
            <button type="Button" id="cancelRegBtn" onclick="cancelReg()">Cancel</button>
          </td>
        </tr>
        <tr>
          <td span='5'>
            <strong data-bind="text: lastStatus"></strong>
          </td>
        </tr>
       </table> 
      </div>
      
      <div id="update" style="display:none;">
        <table>
         <tr>
          <td>
            <input data-bind="value: password" type="password" placeholder="Password" title="Password"></input>
          </td>
          <td>
            <input data-bind="value: screenName" placeholder="Screen Name" title="Screen Name"></input>
          </td>
          <td>
            <button type="Button" id="updateBtn" onclick="update()">Update</button>
          </td>
          <td>
            <button type="Button" id="cancelUpdateBtn" onclick="cancelUpdate()">Cancel</button>
          </td>
        </tr>
        <tr>
          <td span='4'>
            <br /><strong data-bind="text: lastStatus"></strong>
          </td>
        </tr>
       </table> 
       <pre data-bind="text: ko.toJSON($root, null, 2)"></pre>

      </div>
    
      <div id="logout"  style="display:none;">
        <table>
         <tr>
          <td>
	    Welcome, <strong data-bind="text: screenName"></strong> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          </td>
          <td>
            <button type="Button" id="logoutBtn" onclick="logout()">Logout</button>
          </td>
          <td>
            <button type="Button" id="openupdateBtn" onclick="openUpdate()">Update</button>
          </td>
        </tr>
        <tr>
          <td span='4'>
            <strong data-bind="text: lastStatus"></strong>
          </td>
        </tr>
       </table> 
      </div>
    </div>

    <!-- document manager view
      Everything to do with the managing Document is here. -->
    <div id="docManager">
        <button type="Button" id="saveBtn" onclick="saveDoc()">Save</button>
        <button type="Button" id="loadBtn" onclick="loadDoc()">Load</button>
    </div>

    <!-- document view
      Everything to do with the current Document is here. -->
    <div id="doc">
      <p>First name: <strong data-bind="text: firstName"></strong></p>
      <p>Last name: <strong data-bind="text: lastName"></strong></p>
      <p/>
      <pre data-bind="text: ko.toJSON($root, null, 2)"></pre>
    </div>

    <script>
      ko.applyBindings(userModel, document.getElementById("loginGroup") );
      ko.applyBindings(AppViewModel, document.getElementById("doc") );
    </script> 

  </body>
</html>
