<html>
<body>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

<script>

// Note: Character and DialogWindow(character) could likely be condensed down into one object

// So the dialogWindow 's appear down the page, and do not move across. Because of how dynamic this
// can be, I think the size, color and other "internal properties" of the dialogWindow 's should be
// set with its own toHtml() method, and there position (and maybe even padding?) should be up to 
// the WindowPage 's toHtml() method to deal with. the first three should go in the first row, the
// next three in the following row, each with a space anybetween (on all edges) of 10% of the the 
// containers width.
// remember to think about single point of control over changes so that the number of dialogWindows per row,
// and the spaceing and sizes can all by changed easily

/*
Constructor Arguments:
	right now I am just giving name race and character class
	in the future we should give it a json string that is returned
	from either a ajax call to the server that has all the needed
	character data inside, or set a template variable that has a json string
	inside which has all the needed character data
*/
function Character(name, race, characterClass){
	// data for characters go in here
	this.name = name;
	this.race = race;
	this.characterClass = characterClass;
}

/*
Constructor Arguments:
	windows: a array of DialogWindows, the contents of each dialog window do not matter
*/
function WindowPage(windows){
	// given an array of DialogWindows we can create a WindowPage
	this.windows = new Array();
	this.windows = windows;

	/*
	Arguments:
		container: a jQuery html element that the WindowPage will be placed inside.
	*/
	this.toHtml = function(container){
		// this function can be called and it will return html that can be inserted into the page.
		var length = this.windows.length;
		for(var i = 0; i<length; i++){
			var dialog = this.windows[i].toHtml(container);

			var row = Math.floor(i/3 + 1);	
			var column = i%3 + 1;
			var posRow = (10+(30*(column-1)));

			dialog.css("left",posRow+"%");

			var posCol = (container.width() / 20) + (container.width() * .3 * (row-1));

			dialog.css("top",posCol);
			container.append(dialog);
		}
	}
}

/*
Constructor Arguments:
	Character: a character which is the data representation of a character
*/
function DialogWindow(character){
	// given a character we can create a DialogWindow of that character
	this.character = character;
	
	/*
	This function simply returns the html representation of the character
	This function should be called withen WindowPage so that it can fully figure out what
	*/
	this.toHtml = function(container){

		var dialogWidth = container.width()/5;
		var dialogSep = container.width()/10;
	
		var htmlWindow = jQuery('<div/>', {
			id: "dialogWindow"
		}).css("width", dialogWidth).css("height", dialogWidth).css("position","absolute");
			//.css("margin", dialogSep);

		jQuery("<p>" + "name = " + this.character.name + "<br/>race = " + this.character.race + "<br/>class = " + this.character.characterClass + " </p>").appendTo(htmlWindow);

		return htmlWindow;
	}
}

$(document).ready(function(){
	var slighter = new Character("Slighter", "Human", "Fighter");
	var wiz = new Character("Wiz", "Elf", "Wizard");
	var mearth = new Character("Mearth", "Human", "Cleric");
	var snaggleTooth = new Character("SnaggleTooth", "Half-Orc", "Ranger");

	var slighterWindow = new DialogWindow(slighter);
	var wizWindow = new DialogWindow(wiz);
	var mearthWindow = new DialogWindow(mearth);
	var snaggleToothWindow = new DialogWindow(snaggleTooth);

	var characterWindows = new Array();
	characterWindows[0] = slighterWindow;
	characterWindows[1] = wizWindow;
	characterWindows[2] = mearthWindow;
	characterWindows[3] = snaggleToothWindow;
	characterWindows[3] = snaggleToothWindow;
	characterWindows[4] = snaggleToothWindow;
	characterWindows[5] = snaggleToothWindow;
	characterWindows[6] = snaggleToothWindow;

	var characterPage = new WindowPage(characterWindows);
	var container = $(".bodyContainer");
	characterPage.toHtml(container);
});

</script>

<style>

#dialogWindow{
	background-color: rgb(206,206,206);
	padding: 10px;
	border: 5px rgb(00,69,99);
}

.topBannerContainer{
width: 100%;
height: 50px;
background-color: rgb(96,96,96);
}

.bodyContainer{
width: 100%;
height: 100%;
background-color: rgb(160,160,160);
position: relative;
}

body{
background-color: rgb(160,160,160);
}

</style>

<div class="bodywrapper">
	<div class="topBannerContainer">
	</div>
	<div class="bodyContainer">
	</div>
</div>

</body>
</html>
